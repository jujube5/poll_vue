import{u as B,a as n,o as V,c as y,d,e as p,f as e,t as _,g as C,i as g}from"./index-cef1f5e4.js";const E={class:"poll step7"},N={class:"row block"},P=e("div",{class:"block-title"},[e("h1",null,"Шаг 7")],-1),T={key:0,class:"error row"},M=e("div",{class:"row poll-row"},[e("h3",null,"У компании Shiawasedo скоро день рождения. Напишите идеальное поздравление компании.")],-1),D=e("div",{class:"row"},[e("textarea",{id:"step7-textarea",name:"step7",rows:"7",maxlength:"999"})],-1),R={__name:"step7-view",setup(F){const s=B(),c=n(""),r=n(""),i=n(!1);function u(t,o,a){i.value=t,c.value=o,r.value=a}const m=localStorage.getItem("poll_id"),f=g.get_poll_url+m,h=localStorage.getItem("token"),v=localStorage.getItem("gift");function k(t,o,a,x,I,b){g.apiPutPollFunc7(t,o,a,x,I,b).then(function(l){l[0]=="error"?u(!0,"Ошибка сети или сервера SIV003",l[1]):l[1].message=="Unauthenticated."&&u(!0,"Ошибка авторизации SIV004","Попробуйте ещё раз")})}function S(){var t=document.getElementById("step7-textarea").value;k(h,f,"step7","0000-00-00 00:00:00",t,v),localStorage.clear(),s.push({name:"sign-in"})}function w(){localStorage.clear(),s.push({name:"sign-in"})}return V(()=>{y.checkToken(s)}),(t,o)=>(d(),p("div",E,[e("div",N,[P,i.value?(d(),p("div",T,[e("p",null,_(c.value),1),e("p",null,_(r.value),1)])):C("",!0),M,D,e("div",{class:"row"},[e("button",{id:"step7-button",onClick:S},"Ответить")]),e("div",{class:"row"},[e("button",{id:"sign-out-button",onClick:w},"Выйти")])])]))}};export{R as default};
