import{u as V,a as c,o as x,c as y,d as u,e as d,f as e,t as _,g as B,j as N,i as f}from"./index-96130eeb.js";const C={class:"poll step6"},P={class:"row block"},E=e("div",{class:"block-title"},[e("h1",null,"Шаг 6")],-1),M={key:0,class:"error row"},T=N('<div class="row poll-row"><h3>Что вы сейчас чувствуете?</h3></div><div class="row poll-row"><input type="checkbox" id="step6-1"><label for="step3-2">Счастье</label></div><div class="row poll-row"><input type="checkbox" id="step6-2"><label for="step3-4">Любовь</label></div><div class="row poll-row"><input type="checkbox" id="step6-3"><label for="step3-11">Радость</label></div>',4),F={__name:"step6-view",setup(j){const s=V(),r=c(""),n=c(""),i=c(!1);function p(t,o,l){i.value=t,r.value=o,n.value=l}const v=localStorage.getItem("poll_id"),g=f.get_poll_url+v,h=localStorage.getItem("token"),m=localStorage.getItem("gift");function k(t,o,l,S,I){f.apiPutPollFunc(t,o,l,S,I).then(function(a){a[0]=="error"?p(!0,"Ошибка сети или сервера SIV003",a[1]):a[1].message=="Unauthenticated."&&p(!0,"Ошибка авторизации SIV004","Попробуйте ещё раз")})}function b(){k(h,g,"step7","0000-00-00 00:00:00",m),localStorage.setItem("last_step","step7"),s.push({name:"step7"})}function w(){localStorage.clear(),s.push({name:"sign-in"})}return x(()=>{y.checkToken(s)}),(t,o)=>(u(),d("div",C,[e("div",P,[E,i.value?(u(),d("div",M,[e("p",null,_(r.value),1),e("p",null,_(n.value),1)])):B("",!0),T,e("div",{class:"row"},[e("button",{id:"step6-button",onClick:b},"Ответить")]),e("div",{class:"row"},[e("button",{id:"sign-out-button",onClick:w},"Выйти")])])]))}};export{F as default};
